<%- include('../users/layouts/header.ejs')%>

<section class="vh-100 gradient-custom">
    <div class="container py-1 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
          <div class="login-page border-0 shadow-lg card " >
            <div class="card-body p-5 text-center">
  
              <div class="mb-md-5 mt-md-4">
               
  
                <h2 class="login-letters fw-bold mb-2 text-uppercase">Forgot password</h2>
                  
              
  
               
                <form action="" method="post" onsubmit="return validateForm()">
                  <div class="form-outline mb-4">
                    <input type="password" placeholder="Enter password" name="password" id="typeEmailX" class="form-control form-control-md mt-5" />
                    <div id="passwordError" class="text-danger"></div>
                    <input type="hidden" name="user_id" value="<%=user_id %>">
                  </div>
                  <input type="submit" value="Submit" class="btn btn-primary" id="submitBtn">
                </form>
  
              </div>
            
  
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- ===============================================================password form validation========================================================= -->

<script>
  function validateForm() {
    var password = document.getElementById("typeEmailX").value;
    var passwordError = document.getElementById("passwordError");
    var submitButton = document.getElementById("submitBtn");

    // Reset error message
    passwordError.textContent = "";

    // Check if the password is at least 5 characters long
    if (password.length < 5) {
      passwordError.textContent = "Password must be at least 5 characters long";
      submitButton.style.backgroundColor = "red"; // Change the background color to red
      return false;
    }

    // Check if the password contains at least one special character
    if (!/[@#$%^&*!]/.test(password)) {
      passwordError.textContent = "Password must contain at least one special character (@, #, $, %, ^, &, *, or !)";
      submitButton.style.backgroundColor = "red"; // Change the background color to red
      return false;
    }

    // Check if the password contains spaces
    if (/\s/.test(password)) {
      passwordError.textContent = "Password cannot contain spaces";
      submitButton.style.backgroundColor = "red"; // Change the background color to red
      return false;
    }

    submitButton.style.backgroundColor = "blue"; // Change the background color to blue
    return true; // Form will be submitted if all checks pass
  }
</script>

    <%- include('../users/layouts/footer.ejs')%>